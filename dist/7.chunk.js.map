{"version":3,"sources":["D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.html","D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.ts","D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-student/absence-requests-student.component.html","D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-student/absence-requests-student.component.ts","D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests.component.html","D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests.component.ts","D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests.module.ts"],"names":[],"mappings":"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","file":"7.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"col-xs-12\\\">\\r\\n        <div class=\\\"x_panel\\\">\\r\\n            <div class=\\\"x_title\\\">\\r\\n                <h3>Absence Requests<small> (Only accept when you received their letter)</small></h3>\\r\\n                <div class=\\\"clearfix\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"x_content\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xs-4\\\">\\r\\n                        <input placeholder=\\\"Search Code/Name\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"search_text\\\" (ngModelChange)=\\\"onSearchChange()\\\" />\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xs-3\\\">\\r\\n                        <select class=\\\"form-control\\\" [(ngModel)]=\\\"selectedStatus\\\" (ngModelChange)=\\\"onChangeStatus()\\\">\\r\\n                            <option *ngFor=\\\"let status of absence_request_status\\\" [value]=\\\"status.id\\\">{{status.title}}</option>\\r\\n                        </select>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <br/>\\r\\n                <table class=\\\"table table-bordered text-center table-hover\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Code</th>\\r\\n                            <th>Name</th>\\r\\n                            <th>Reason</th>\\r\\n                            <th>Start Date</th>\\r\\n                            <th>End Date</th>\\r\\n                            <th>Submited At</th>\\r\\n                            <th>Accepted/Rejected At</th>\\r\\n                            <th>Action</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let request of absence_requests\\\">\\r\\n                            <td>{{request.code}}</td>\\r\\n                            <td>{{request.name}}</td>\\r\\n                            <td>{{request.reason}}</td>\\r\\n                            <td>{{request.start_date | date: 'dd/MM/yyyy'}}</td>\\r\\n                            <td>{{request.end_date | date: 'dd/MM/yyyy'}}</td>\\r\\n                            <td>{{request.created_at | date: 'short'}}</td>\\r\\n                            <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"></td>\\r\\n                            <td *ngIf=\\\"request.status != appService.absence_request_status.new.id\\\">{{request.updated_at | date: 'short'}}</td>\\r\\n                            <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"><button class=\\\"btn btn-success btn-sm\\\" (click)=\\\"onAcceptRequest(request.id)\\\">Accept</button><button class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"onRejectRequest(request.id)\\\">Reject</button>\\r\\n                            </td>\\r\\n                            <td *ngIf=\\\"request.status != appService.absence_request_status.new.id\\\"><button class=\\\"btn btn-warning btn-sm\\\" (click)=\\\"onUndoRequest(request.id)\\\">Undo</button></td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n                <pagination [boundaryLinks]=\\\"true\\\" [totalItems]=\\\"totalItems\\\" [itemsPerPage]=\\\"itemsPerPage\\\" [(ngModel)]=\\\"currentPage\\\" (pageChanged)=\\\"onPageChanged($event)\\\" class=\\\"pull-right no_margin\\\"></pagination>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <select [(ngModel)]=\\\"itemsPerPage\\\" (ngModelChange)=\\\"getAbsenceRequests()\\\">\\r\\n                        <option>10</option>\\r\\n                        <option>30</option>\\r\\n                        <option>50</option>\\r\\n                    </select>\\r\\n                    <span>Items/page</span>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n</div>\\r\\n<!-- Modal -->\\r\\n<div class=\\\"modal fade\\\" id=\\\"confirmModal\\\" role=\\\"dialog\\\">\\r\\n    <div class=\\\"vertical-alignment-helper\\\">\\r\\n        <div class=\\\"modal-dialog modal-sm vertical-align-center\\\">\\r\\n            <!-- Modal content-->\\r\\n            <div class=\\\"modal-content\\\">\\r\\n                <div class=\\\"modal-header\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                    <h4 class=\\\"modal-title\\\">{{confirm_modal_title}}</h4>\\r\\n                </div>\\r\\n                <div class=\\\"modal-body\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default btn-success\\\" (click)=\\\"confirmAction()\\\" data-dismiss=\\\"modal\\\">Confirm</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.html\n// module id = ../../../../../src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.html\n// module chunks = 7","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { AppService , AbsenceRequestService} from '../../shared/shared.module';\r\ndeclare var jQuery: any;\r\n@Component({\r\n    selector: 'app-absence-requests-staff',\r\n    templateUrl: './absence-requests-staff.component.html'\r\n})\r\nexport class AbsenceRequestsStaffComponent implements OnInit {\r\n\r\n    public constructor(public router: Router, public absenceRequestService: AbsenceRequestService, public appService: AppService) {\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n        this.getAbsenceRequests();\r\n        this.absence_request_status.push(this.appService.absence_request_status.new);\r\n        this.absence_request_status.push(this.appService.absence_request_status.accepted);\r\n        this.absence_request_status.push(this.appService.absence_request_status.rejected);\r\n\r\n        this.selectedStatus = this.appService.absence_request_status.new.id;\r\n    }\r\n    public pageNumber: number = 1;\r\n    public limit: number = 15;\r\n    public currentPage: number = 1;\r\n    public totalItems: number = 0;\r\n    public itemsPerPage: number = 10;\r\n    public absence_requests = [];\r\n    public selectedStatus;\r\n    public absence_request_status = [];\r\n    public search_text = '';\r\n    public getAbsenceRequests(){\r\n        this.absenceRequestService.getAbsenceRequests(this.selectedStatus,this.search_text).subscribe(result=>{\r\n            this.absence_requests = result.absence_requests;\r\n            this.totalItems = result.total_items;\r\n        },error=>{this.appService.showPNotify('failure', \"Server Error! Can't get absence_requests\", 'error'); });\r\n    }\r\n    public onChangeStatus(){\r\n        this.getAbsenceRequests();\r\n    }\r\n    public current_request_id = 0;\r\n    public current_request_status = 0;\r\n    public confirm_modal_title = '';\r\n    public onAcceptRequest(id: number) {\r\n        jQuery('#confirmModal').modal(\"show\");\r\n        this.confirm_modal_title = 'Accept this request ?';\r\n        this.current_request_id = id;\r\n        this.current_request_status = this.appService.absence_request_status.accepted.id;\r\n    }\r\n    public onUndoRequest(id: number) {\r\n        jQuery('#confirmModal').modal(\"show\");\r\n        this.confirm_modal_title = 'Undo this request ?';\r\n        this.current_request_id = id;\r\n        this.current_request_status = this.appService.absence_request_status.new.id;\r\n    }\r\n    public onRejectRequest(id: number) {\r\n        jQuery('#confirmModal').modal(\"show\");\r\n        this.confirm_modal_title = 'Reject this request ?';\r\n        this.current_request_id = id;\r\n        this.current_request_status = this.appService.absence_request_status.rejected.id;\r\n    }\r\n    public confirmAction() {\r\n        this.absenceRequestService.changeRequestStatus(this.current_request_id, this.current_request_status)\r\n            .subscribe(result => {\r\n                this.absenceRequestService.getAbsenceRequests(this.selectedStatus,this.search_text)\r\n                    .subscribe(result => {\r\n                        this.absence_requests = result.absence_requests;\r\n                        jQuery('#confirmModal').modal(\"hide\");\r\n                    }, error => { this.appService.showPNotify('failure', \"Server Error! Can't get requests\", 'error');  });\r\n            }, error => { this.appService.showPNotify('failure', \"Server Error! Can't change request status\", 'error'); });\r\n    }\r\n    public onSearchChange(){\r\n        if(this.search_text.length > 3 || this.search_text.length == 0){\r\n            this.getAbsenceRequests();\r\n        }\r\n    }\r\n    public onPageChanged(event: any) {\r\n        this.pageNumber = event.page;\r\n        this.getAbsenceRequests();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.ts","module.exports = \"<div class=\\\"col-xs-12\\\">\\r\\n    <div class=\\\"x_panel\\\">\\r\\n        <div class=\\\"x_title\\\">\\r\\n            <h3>Absence Requests</h3>\\r\\n            <div class=\\\"clearfix\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"x_content\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-4\\\">\\r\\n                    <input placeholder=\\\"Search Code/Name\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"search_text\\\" (ngModelChange)=\\\"onSearchChange()\\\" />\\r\\n                </div>\\r\\n                <div class=\\\"col-xs-3\\\">\\r\\n                    <select class=\\\"form-control\\\" [(ngModel)]=\\\"selectedStatus\\\" (ngModelChange)=\\\"onChangeStatus()\\\">\\r\\n                        <option *ngFor=\\\"let status of absence_request_status\\\" [value]=\\\"status.id\\\">{{status.title}}</option>\\r\\n                    </select>\\r\\n                </div>\\r\\n                <button class=\\\"btn btn-primary\\\" (click)=\\\"onCreateRequest()\\\"><i class=\\\"fa fa-plus\\\"></i> Send request</button>\\r\\n            </div>\\r\\n            <br/>\\r\\n            <table class=\\\"table table-bordered text-center table-hover\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>Reason</th>\\r\\n                        <th>Start Date</th>\\r\\n                        <th>End Date</th>\\r\\n                        <th>Submited At</th>\\r\\n                        <th>Accepted/Rejected At</th>\\r\\n                        <th>Action</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let request of absence_requests\\\">\\r\\n                        <td>{{request.reason}}</td>\\r\\n                        <td>{{request.start_date | date: 'dd/MM/yyyy'}}</td>\\r\\n                        <td>{{request.end_date | date: 'dd/MM/yyyy'}}</td>\\r\\n                        <td>{{request.created_at | date: 'short'}}</td>\\r\\n                        <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"></td>\\r\\n                        <td *ngIf=\\\"request.status != appService.absence_request_status.new.id\\\">{{request.updated_at | date: 'short'}}</td>\\r\\n                        <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"><button class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"onCancelRequest(request.id)\\\">Cancel</button></td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<!-- Modal -->\\r\\n<create-absence-request-modal (onConfirmed)=\\\"onRequestCreated($event)\\\"></create-absence-request-modal>\\r\\n<div class=\\\"modal fade\\\" id=\\\"confirmModal\\\" role=\\\"dialog\\\">\\r\\n    <div class=\\\"vertical-alignment-helper\\\">\\r\\n        <div class=\\\"modal-dialog modal-sm vertical-align-center\\\">\\r\\n            <!-- Modal content-->\\r\\n            <div class=\\\"modal-content\\\">\\r\\n                <div class=\\\"modal-header\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                    <h4 class=\\\"modal-title\\\">{{confirm_modal_title}}</h4>\\r\\n                </div>\\r\\n                <div class=\\\"modal-body\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default btn-success\\\" (click)=\\\"confirmAction()\\\" data-dismiss=\\\"modal\\\">Send</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-student/absence-requests-student.component.html\n// module id = ../../../../../src/app/absence-requests/absence-requests-student/absence-requests-student.component.html\n// module chunks = 7","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { AppService, AbsenceRequestService, AuthService, CreateAbsenceRequestModalComponent } from '../../shared/shared.module';\r\ndeclare var jQuery: any;\r\n@Component({\r\n    selector: 'app-absence-requests-student',\r\n    templateUrl: './absence-requests-student.component.html'\r\n})\r\nexport class AbsenceRequestsStudentComponent implements OnInit {\r\n\r\n    public constructor(public router: Router, public absenceRequestService: AbsenceRequestService, public appService: AppService, public authService: AuthService) {}\r\n\r\n    public ngOnInit(): void {\r\n        this.getAbsenceRequests();\r\n        this.absence_request_status.push(this.appService.absence_request_status.new);\r\n        this.absence_request_status.push(this.appService.absence_request_status.accepted);\r\n        this.absence_request_status.push(this.appService.absence_request_status.rejected);\r\n\r\n        this.selectedStatus = this.appService.absence_request_status.new.id;\r\n    }\r\n\r\n    public apiResult: string;\r\n    public apiResultMessage: string;\r\n    public absence_requests = [];\r\n    public selectedStatus;\r\n    public absence_request_status = [];\r\n    public search_text = '';\r\n    public getAbsenceRequests() {\r\n        this.absenceRequestService.getRequestsByStudent(this.authService.current_user.id, this.selectedStatus, this.search_text).subscribe(result => {\r\n            this.absence_requests = result.absence_requests;\r\n        }, error => { this.appService.showPNotify('failure', \"Server Error! Can't get absence requests\", 'error');  });\r\n    }\r\n    public onChangeStatus() {\r\n        this.getAbsenceRequests();\r\n    }\r\n    public current_request_id = 0;\r\n    public current_request_status = 0;\r\n    public confirm_modal_title = '';\r\n    public onCancelRequest(id: number) {\r\n        jQuery('#confirmModal').modal(\"show\");\r\n        this.confirm_modal_title = 'Cancel this request ?';\r\n        this.current_request_id = id;\r\n    }\r\n\r\n\r\n    @ViewChild(CreateAbsenceRequestModalComponent)\r\n    public createAbsenceRequestModal: CreateAbsenceRequestModalComponent;\r\n    public onCreateRequest() {\r\n        this.createAbsenceRequestModal.onOpenModal();\r\n    }\r\n    public onRequestCreated(result:string){\r\n        if(result == 'success'){\r\n            this.getAbsenceRequests();\r\n        }\r\n    }\r\n    public confirmAction() {\r\n        this.absenceRequestService.cancelAbsenceRequests(this.current_request_id)\r\n            .subscribe(result => {\r\n                this.apiResult = result.result;\r\n                this.apiResultMessage = result.message;\r\n                this.appService.showPNotify(this.apiResult, this.apiResultMessage, this.apiResult == 'success' ? 'success' : 'error');\r\n                if (this.apiResult == 'success') {\r\n                    jQuery('#confirmModal').modal(\"hide\");\r\n                    this.getAbsenceRequests();\r\n                }\r\n            }, error => { this.appService.showPNotify('failure', \"Server Error! Can't cancel request\", 'error');  });\r\n    }\r\n    public onSearchChange() {\r\n        if (this.search_text.length > 3 || this.search_text.length == 0) {\r\n            this.getAbsenceRequests();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests-student/absence-requests-student.component.ts","module.exports = \"<app-absence-requests-staff *ngIf=\\\"authService.current_user.role_id == appService.userType.staff || authService.current_user.role_id == appService.userType.admin\\\"></app-absence-requests-staff>\\r\\n<app-absence-requests-student *ngIf=\\\"authService.current_user.role_id == appService.userType.student\\\"></app-absence-requests-student>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests.component.html\n// module id = ../../../../../src/app/absence-requests/absence-requests.component.html\n// module chunks = 7","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { AppService , AbsenceRequestService, AuthService} from '../shared/shared.module';\r\ndeclare var jQuery: any;\r\n@Component({\r\n    selector: 'app-absence-requests',\r\n    templateUrl: './absence-requests.component.html'\r\n})\r\nexport class AbsenceRequestsComponent implements OnInit {\r\n\r\n    public constructor(public authService: AuthService, public appService: AppService) {\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests.component.ts","import { NgModule }       from '@angular/core';\r\nimport { CommonModule }   from '@angular/common';\r\nimport { FormsModule }    from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { AbsenceRequestsComponent } from './absence-requests.component';\r\nimport { AbsenceRequestsStaffComponent } from './absence-requests-staff/absence-requests-staff.component';\r\nimport { AbsenceRequestsStudentComponent } from './absence-requests-student/absence-requests-student.component';\r\nimport { CollapseModule , DatepickerModule, TabsModule, PaginationModule} from 'ngx-bootstrap';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\nconst AbsenceRequestsRoutes: Routes = [\r\n  { path: '',  component: AbsenceRequestsComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(AbsenceRequestsRoutes),\r\n    CollapseModule.forRoot(),\r\n    PaginationModule.forRoot(),\r\n    TabsModule,\r\n    DatepickerModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    AbsenceRequestsComponent,\r\n    AbsenceRequestsStaffComponent,\r\n    AbsenceRequestsStudentComponent\r\n  ],\r\n  providers: []\r\n})\r\n\r\nexport class AbsenceRequestsModule{}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Attendant-Checking-Web/src/app/absence-requests/absence-requests.module.ts"],"sourceRoot":"webpack:///"}